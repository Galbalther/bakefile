<?xml version="1.0" ?>
<!-- $Id$ -->

<bakefile-gen>

    <input>
        root.bkl
        cond/hello.bkl
        cond_install/cond_install.bkl
        debug/debug.bkl
        dll/dll.bkl
        features/features.bkl
        gettext/gettext.bkl
        headers/headers.bkl
        hello/hello.bkl
        includeonce/includeonce.bkl
        library/library.bkl
        module/module.bkl
        paths/paths.bkl
        pch/pch.bkl
        regressions/regressions.bkl
        datafiles/datafiles.bkl
        filelist/filelist.bkl
        echo/echo.bkl
        isdefined/isdefined.bkl
        subproject/subproject.bkl
        definetag/definetag.bkl
        defineglobaltag/defineglobaltag.bkl
    </input>
    
    <add-formats>
        autoconf,borland,cbuilderx,dmars,dmars_smake,gnu,mingw,msevc4prj,msvc,msvc6prj,msvs2005prj,symbian,watcom,xcode2
    </add-formats>
    
    <!-- WinCE can't handle console-only apps (FIXME: build tests anyway!): -->
    <del-formats files="cond/*.bkl">msevc4prj</del-formats>
    <del-formats files="cond_install/*.bkl">msevc4prj</del-formats>
    <del-formats files="echo/*.bkl">msevc4prj</del-formats>
    <del-formats files="isdefined/*.bkl">msevc4prj,dmars</del-formats>
    <del-formats files="regressions/*.bkl">msevc4prj</del-formats>
    <del-formats files="pch/*.bkl">msevc4prj</del-formats>
    <del-formats files="debug/*.bkl">msevc4prj</del-formats>
    <del-formats files="paths/*.bkl">msevc4prj</del-formats>
    <del-formats files="headers/*.bkl">msevc4prj</del-formats>
    <del-formats files="definetag/*.bkl">msevc4prj</del-formats>
    <del-formats files="defineglobaltag/*.bkl">msevc4prj</del-formats>

    <!-- DigitalMars' make can't handle conditions: -->
    <del-formats files="cond*/*.bkl">dmars</del-formats>
  
    <!-- Project files don't make sense for root makefile: -->
    <del-formats files="root.bkl">
        msevc4prj,msvc6prj,msvs2005prj,cbuilderx
    </del-formats>
    <del-formats files="gettext/*.bkl">
        msevc4prj,msvc6prj,msvs2005prj,cbuilderx
    </del-formats>

  
    <!-- Format specific settings: -->
    <add-flags formats="autoconf">
        -DAUTOCONF_MACROS_FILE=./autoconf_inc.m4
    </add-flags>

    <!-- This is for testing [un]install targets for win32 formats -->
    <add-flags formats="msvc,mingw,borland,watcom">
        -DFORMAT_HAS_MAKE_INSTALL=1
    </add-flags>

</bakefile-gen>
